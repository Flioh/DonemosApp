<ion-header>
	<ion-navbar color="negro">
		<ion-title>Mis Preferencias</ion-title>
	</ion-navbar>
</ion-header>


<ion-content padding>

	<ion-list>
		<form #datos="ngForm">



			<!-- Provincia  -->
			<ion-item>
				<ion-label floating>Provincia</ion-label>
				<ion-select [(ngModel)]="preferenciasUsuario.provincia" okText="Aceptar" cancelText="Cancelar" name="provincia" #provincia="ngModel" (ionChange)="inicializarCiudadesDeLaProvincia()">
					<ion-option *ngFor="let provincia of listaProvincias" [value]="provincia">
						{{provincia.nombre}}
					</ion-option>
				</ion-select>
			</ion-item>



			<!-- Ciudad  -->
			<ion-item>
				<ion-label floating>Ciudad</ion-label>
				<ion-select [(ngModel)]="preferenciasUsuario.ciudad" okText="Aceptar" cancelText="Cancelar" name="ciudad" #ciudad="ngModel">
					<ion-option *ngFor="let ciudad of listaCiudades" [value]="ciudad">
						{{ciudad.nombre}}
					</ion-option>
				</ion-select>
			</ion-item>



			<!-- Grupo sanguineo  -->
			<ion-item>
				<ion-label floating>Tu grupo sanguineo</ion-label>
				<ion-select [(ngModel)]="preferenciasUsuario.grupoSanguineo" okText="Aceptar" cancelText="Cancelar" name="grupo" #grupo="ngModel">
					<ion-option *ngFor="let grupo of listaGruposSanguineos" [value]="grupo">
						{{grupo.nombre}}
					</ion-option>
				</ion-select>
			</ion-item>



			<!-- Factor sanguineo  -->
			<ion-item>
				<ion-label floating>Tu factor sanguineo</ion-label>
				<ion-select [(ngModel)]="preferenciasUsuario.factorSanguineo" okText="Aceptar" cancelText="Cancelar" name="factor" #factor="ngModel">
					<ion-option *ngFor="let factor of listaFactoresSanguineos" [value]="factor">
						{{factor.nombre}}
					</ion-option>
				</ion-select>
			</ion-item>

			

			<ion-item>
				<p>Sus datos se guardarán de forma local en su móvil y <strong>nunca serán enviados</strong> a nuestros servidores ni compartidos de niguna forma.</p>
			</ion-item>
			

		</form>

		<button ion-button *ngIf="esRoot" (click)="mostrarListado()" class="btn-inline btn-secondary " color="grisOscuro" full>
			Omitir
		</button>
		<button ion-button *ngIf="esRoot" (click)="guardarCambios()" class="btn-inline btn-primary " color="principal" full>
			Guardar datos
		</button>

		<button ion-button *ngIf="!esRoot" (click)="guardarCambios()" color="principal" full>
			Guardar datos
		</button>
	</ion-list>

</ion-content>
